


<div class="similar-products-section mt-2 mb-2">
  <ng-container *ngIf="slides.length > 0; else noProducts">

     <div class="similar-products-header d-flex justify-content-between align-items-center mt-2 mb-2">
      <h3 class="similar-products-title mb-0">Similar Products</h3>
      
      <!-- Carousel Controls positioned on the right -->
      <div class="similar-products-controls">
        <button class="btn btn-outline-primary btn-sm me-2" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
          </svg>
        </button>
        <button class="btn btn-outline-primary btn-sm" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
      </div>
    </div>

    <div id="productCarousel" #productCarousel class="carousel slide" >
      <div class="carousel-inner">
        <div class="carousel-item" [class.active]="i === 0" *ngFor="let slide of slides; let i = index">
          <div class="row g-0 justify-content-center">
            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-6 d-flex justify-content-center " *ngFor="let product of slide">
              <div class="card product-card mx-1 rounded effect" [routerLink]="['/product', product.id]">
                <img [src]="product.thumbnail" class="card-img-top" [alt]="product.title">
                <div class="card-body d-flex flex-column"> <h5 class="card-title">{{ product.title }}</h5>
                  <p class="card-text">{{ product.description | slice:0:50 }}...</p>

                   <p class="card-text rating-display">
                    
                  <span  class="fw-bold badge bg-warning text-white d-inline-flex  align-items-center" style="gap:4px;">{{product.rating}}<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-star"  viewBox="0 0 16 16">
    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
  </svg></span> 
                   
                  </p>

                  
                  <div class="d-flex justify-content-between align-items-center mt-auto flex-wrap">
                    <span class="fw-bold text-success ">${{ product.price }}</span>
                    <span class="text-primary text-center fw-bold">Save : {{product.discountPercentage}}%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </ng-container>

  <ng-template #noProducts>
    <div class="text-center py-5">
      <p>No similar products found.</p>
    </div>
  </ng-template>
</div>